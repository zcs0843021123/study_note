# AI 应用举例-对话机器人

> NLP（自然语言处理） 与 CV（计算机视觉）是人工智能领域两个非常重要的方向。
> 
> CV 是通过 AI 理解图片的含义
> 
> NLP 是通过 AI 理解文字的含义

## 文字与智能的关系
* 文字和智能有着重大的联系：广受认可的图灵测试就使用“对话”这一方式，来判断机器是否拥有智能。【因为语言的背后是逻辑】图灵测试的核心其实不是“计算机能否和人对话”，而是“计算机能否在智力行为上表现得和人无法区分”。冒充异性和冒充人类都不过是特例而已。

* 自然语言: 我们将一般各地区人类使用的语言

* 人造语言: 类似《权利的游戏》中的瓦雷利亚语，又如《塞尔达传说-荒野之息》中的希卡文字。将 26 个字符加上数字和一些简单的字符进行映射（类似 base64 编码）映射到指定的符号上，这样就映射出一种新的语音。

* 编程语言: 计算机所理解的语言。

* 最接近通过图灵测试测试的机器人: 2014年6月7日，在英国皇家学会举行的“2014图灵测试”大会上，聊天程序“尤金·古斯特曼”（Eugene Goostman）首次“通过”了图灵测试。【实际上这个程序冒充的是一个来自乌克兰英语非母语的 13 岁正太。于是一些奇特的回答就会被当作英语不好以及弱智儿童欢乐多（就是耍了小聪明，当然哪怕如此能通过测试也是了不起的了）】

## 对话机器人示例
> * IBM Walson
> * Apple siri
> * 微软 小冰/小娜
> * 小米 小爱同学 升级3.0 实现了连续对话
> * 百度 小度
> * 阿里 天猫精灵
> * 海底捞 订餐机器人：订餐电话
> * 京东快递，电话，语音机器人提示快递已经到达
> * 图灵机器人：免费接口 (图灵机器人公司产品 提供免费的对话接口来实现对话等功能 [http://www.turingapi.com/](http://www.turingapi.com/)）

## 对话机器人的实现
* 基于规则
* 基于检索
* 基于生成

> 这三者之间并不泾渭分明: 而是相互联系【同一个对话机器人的框架常常包含这几种常用的方式】

### 基于规则的对话机器人
* 科学家将基本问题分解为: “词义”、“语法”和“语义”。

```
例如: 我爱你！
【可以看出，这个句子包括“主语”->“我”，“谓语”->“爱你”；】
【谓语又包括一个动宾短语，它由一个动词和一个宾语构成分别为“爱”、“你”】
```

上述例子规范成语法树

!["我爱你!"的语法树](./img/2.grammar.jpeg)

这样，只要所有的句子结构都储存起来，所有的词语和词性都储存起来，就是解决自然语言问题的基础了。

**但是用编程去解决语句的语法树是个非常复杂的过程**, **另外我们生活中很少在意语法规则**
![复杂的语法树](./img/2.grammar2.jpeg)

* 基于规则的对话机器人遇到的问题
	+ 大多数的句子是很复杂的
	+ 语法规则在特定的环境下会有矛盾
	+ 不同的语言（中文和英文）的结构不同，造成更多的规则
	+ 由于上下文的相关，使得分析问题变得更难
	+ 常识问题

* 以上的规则叫做语法树，而实际操作中，还有很多规则都可以对机器人作出指导。下面的规则也是非常常见的：
	+ 关键词(关键字)
	+ 实体检测(命名实体识别)
	+ 行业规则和各类特殊规则

### 基于检索的对话机器人

* 基于检索的对话机器人，可以理解为一个查字典的过程。

> 拥有一个很大的语料库 => 计算问题的相似度 => 排序找出最相近的问题
> 
> 语料库就是文字，文本，知识，形式可以是每一个问题对应一个答案
> 
> 拿到用户的问题，然后和语料库中的问题进行比对，找出最相近的，然后把最相近的问题对应的答案返回

* 对计算机来说，这里面最难的是**判断语句的相似度**

* 计算机如何判断语句的相似度实际上就是**如何数字化表示语句**

* 计算语句相似度的方式
	- 编辑距离
	
	> 把句子里的字换位置，看看要经过多少步能换成另一句话
	
	- 语言的编码

	> 每个字都表示成一串数字，这串数字只有 0 和 1
	
	- 向量化

	> 每个字用一组数（一个向量来表示），通过计算两个字之间的相似度，来计算语句的相似度

适合范围: 客服机器人，专业知识查询、资料管理等

### 基于生成的对话机器人

基于生成的对话机器人也可以有很多形式。

* 根据规则生成:【根据语法树规则生成】
	+ 基于规则的对话，非常复杂，非常特殊，通用性和语义性太低。

* 根据概率生成:【例如有一种概率模型叫做 seq2seq 模型】
	+ 根据概率生成需要有非常大量的真实的且无偏的数据，这对模型和计算能力都有非常高的要求。

所以，机器人对语言的生成，始终在依据规则或概率作出行为。一个侧向规则，一个侧向语义，二者结合是常用的方法。同样，机器人完成写书、写诗等，也基本可以涵盖在其中。

机器人通不过图灵测试，也就很容易理解了。

## 结语
在自然语言处理中还有很多其他的问题

* 如何识别语言中的实体？
* 如何实现自然语言之间的翻译？(英译汉，汉译英)
* 语序问题如何处理？
* 多轮对话（记忆）如何实现？
* 如何让机器人有常识？（知识图谱）
* 机器人有没有可能建立知识体系？（知识图谱）

故此，自然语言仍然是非常具有挑战性的领域。有很多值得学习和值得探索的地方～
